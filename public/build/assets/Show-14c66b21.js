import{d as c,s as x,c as d,w as _,o as l,a as e,e as u,i as b,F as w,b as i,h as k,L as C,f as M,j as $,R as B,S as j,K as g}from"./app-ad745f98.js";import{_ as I,a as U}from"./SentMessageCard-652022f6.js";import{U as E,C as L,P as q}from"./UploadIcon-abb0c5da.js";import{E as F}from"./EllipsisHorizontal-36b10a69.js";import{U as S}from"./UserIcon-f7658644.js";import{_ as T}from"./ChatRoomLayout-1e97b12e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ArrowLeftIcon-d696fddf.js";import"./Sidebar-8688ddd2.js";import"./ToastList-cd5f7580.js";const V={class:"max-w-[40rem] m-auto pb-5"},A={id:"container",class:"px-2 flex-1 mb-[5rem] w-full bg-white h-[calc(100vh_-_150px)] overflow-y-auto"},D={class:"w-full p-1"},K={class:""},N={class:"w-full fixed bottom-0 max-w-[40rem]"},O={key:0,class:"flex flex-col mb-2 p-1 mx-2 border border-gray-200 rounded-lg bg-white"},P={class:"flex justify-end"},H=e("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),z=[H],R={class:"flex justify-between px-[5rem]"},G={class:"flex flex-col items-center"},J=e("p",{class:"text-sm"},"Share My Deatils",-1),Q={class:"flex flex-col items-center"},W={class:"bg-green-600 inline-block p-2 rounded-full",onclick:"document.getElementById('file').click()"},X=e("p",null,"Upload",-1),Y={class:"flex flex-col items-center"},Z=e("p",null,"More",-1),ee={class:"p-2 px-3 bg-white"},oe={class:"flex"},te={class:"bg-gray-200 flex items-center flex-1 rounded-3xl px-3 py-1"},se={class:"flex items-center"},fe={__name:"Show",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,chatroom:Object,messages:Object},setup(m){const r=m,n=c(!1),a=c(null),p=c(r.messages);x(()=>{f(0)});const f=s=>{var t=document.getElementById("container");t.scrollTop=t.scrollHeight+s},v=async()=>{await g.get(route("enquiry.chatroom.show",{chatroom:r.chatroom})).then(s=>{p.value=s.data}),f(20)},h=()=>{a.value!==null&&a.value!==""&&g.post(route("enquiry.chatroom.newMessage",{id:r.chatroom.id}),{message:a.value}).then(s=>{console.log(s),s.status===201&&(a.value="",v())}).catch(s=>{console.log(s)})},y=()=>{n.value=!1};return(s,t)=>(l(),d(T,{title:"Chatroom",navigationBack:"/chats/enquiry/asdf",infoLink:"/chat/settings/asdf",name:`My Sale - ${r.chatroom.name}`},{default:_(()=>[e("div",V,[e("div",A,[e("div",D,[(l(!0),u(w,null,b(p.value,o=>(l(),u("div",K,[o.user.id===s.$page.props.user.id?(l(),d(I,{key:0,message:o.message,name:o.user.name,company:o.user.company.name,profile_image:o.user.profile_photo_url,time:o.created_at},null,8,["message","name","company","profile_image","time"])):(l(),d(U,{key:1,message:o.message,name:o.user.name,company:o.user.company.name,profile_image:o.user.profile_photo_url,time:o.created_at},null,8,["message","name","company","profile_image","time"]))]))),256))])]),e("div",N,[n.value?(l(),u("div",O,[e("div",P,[e("button",{class:"bg-gray-200 inline-flex items-center justify-center p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition",onClick:t[0]||(t[0]=o=>n.value=!n.value)},z)]),e("div",R,[e("div",G,[e("button",{onClick:t[1]||(t[1]=(...o)=>s.show&&s.show(...o)),class:"bg-blue-600 inline-block p-2 rounded-full"},[i(S,{class:"text-white"})]),J]),e("div",Q,[e("button",W,[i(E,{class:"text-white"})]),X]),e("div",Y,[i(k(C),{href:s.route("enquiry.chatroom.settings",{chatroom:m.chatroom}),class:"bg-white block border border-gray-200 p-2 rounded-full"},{default:_(()=>[i(F,{class:"text-red-600"})]),_:1},8,["href"]),Z])])])):M("",!0),e("div",ee,[e("div",oe,[e("div",te,[e("button",{onClick:t[2]||(t[2]=o=>n.value=!n.value)},[i(L)]),e("input",{type:"file",class:"hidden",id:"file",onChange:t[3]||(t[3]=o=>y())},null,32),$(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>a.value=o),onKeyup:t[5]||(t[5]=j(o=>h(),["enter"])),placeholder:"Type a message",class:"w-full border-0 bg-gray-200 focus:outline-none focus:ring-0"},null,544),[[B,a.value]])]),e("div",se,[e("button",{onClick:t[6]||(t[6]=o=>h()),class:"text-white bg-blue-700 px-3 py-2 rounded-2xl"},[i(q)])])])])])])]),_:1},8,["name"]))}};export{fe as default};
