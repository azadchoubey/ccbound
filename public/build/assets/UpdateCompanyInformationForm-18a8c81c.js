import{u as $,d as b,N as x,c as j,w as p,o as c,g as y,e as i,a as t,b as a,j as f,v as F,M as q,h as s,p as A,f as S,E as h,i as V,F as k,n as B,t as C}from"./app-ad745f98.js";import{_ as z}from"./ActionMessage-023109ed.js";import{_ as D}from"./FormSection-992bfe61.js";import{_ as d}from"./InputError-5f6dd6ed.js";import{_ as m}from"./InputLabel-dc2871da.js";import{_ as E}from"./PrimaryButton-65f58580.js";import{_ as L}from"./SecondaryButton-efbe443f.js";import{_ as U}from"./TextInput-e764b81b.js";import"./SectionTitle-94f0e8f1.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={key:0,class:"col-span-6 sm:col-span-4"},O={class:"mt-2"},W=["src","alt"],G={class:"mt-2"},H={class:"col-span-6 sm:col-span-4"},J={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},Q=t("option",{value:"",selected:"",disabled:""},"Select Type",-1),X=t("option",{value:"Manufacturer"},"Manufacturer",-1),Y=t("option",{value:"Trader"},"Trader",-1),Z=[Q,X,Y],ee={class:"col-span-3 sm:col-span-3"},se=t("option",{disabled:""},"Select Country",-1),oe=["value"],ae={key:1,class:"col-span-3 sm:col-span-3"},te=t("option",{disabled:""},"Select State",-1),le=["value"],re={key:2,class:"col-span-3 sm:col-span-3"},ne=t("option",{disabled:""},"Select City",-1),ce=["value"],ue={class:"col-span-6 sm:col-span-4"},he={__name:"UpdateCompanyInformationForm",props:{company:Object,countries:Array},setup(P){const n=P,e=$({_method:"PUT",name:n.company.name,website:n.company.website,type:n.company.type,country:n.company.country,state:n.company.state,city:n.company.city,address:n.company.address}),_=$({logo:null}),v=b(null),u=b(null),I=()=>{u.value&&(_.logo=u.value.files[0]),e.patch(route("company.update",{company:n.company}),{preserveScroll:!0,onSuccess:()=>N()})},M=()=>{u.value.click()},T=()=>{const r=u.value.files[0];if(!r)return;const l=new FileReader;l.onload=o=>{v.value=o.target.result},l.readAsDataURL(r),u.value&&(_.logo=u.value.files[0],_.post(route("company.updatelogo",{company:n.company}),{preserveScroll:!0,onSuccess:()=>N()}))},N=()=>{var r;(r=u.value)!=null&&r.value&&(u.value.value=null)},w=b(null),g=b(null);return x(()=>{e.country&&axios.get(route("states",{country:e.country})).then(r=>{w.value=r.data.length>0?r.data:null,g.value=null})}),x(()=>{e.state&&axios.get(route("cities",{state:e.state})).then(r=>{g.value=r.data.length>0?r.data:null})}),(r,l)=>(c(),j(D,{onSubmitted:I},{title:p(()=>[y(" Company Information ")]),description:p(()=>[y(" Update your company's information. ")]),form:p(()=>[r.$page.props.jetstream.managesProfilePhotos?(c(),i("div",R,[t("input",{ref_key:"photoInput",ref:u,type:"file",class:"hidden",onChange:T},null,544),a(m,{for:"company_logo",value:"Company Logo"}),f(t("div",O,[t("img",{src:n.company.logo_url,alt:n.company.name,class:"rounded-full h-[3rem] object-cover"},null,8,W)],512),[[F,!v.value]]),f(t("div",G,[t("span",{class:"block w-20 h-20 bg-center bg-no-repeat bg-cover rounded-full",style:q("background-image: url('"+v.value+"');")},null,4)],512),[[F,v.value]]),a(d,{message:s(_).errors.logo,class:"mt-2"},null,8,["message"]),a(L,{class:"mt-2 mr-2",type:"button",onClick:A(M,["prevent"])},{default:p(()=>[y(" Select A New logo-resize ")]),_:1},8,["onClick"]),a(d,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])])):S("",!0),t("div",H,[a(m,{for:"name",value:"Name"}),a(U,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).name=o),type:"text",class:"block w-full mt-1",autocomplete:"name"},null,8,["modelValue"]),a(d,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),t("div",J,[a(m,{for:"website_url",value:"Webiste Url"}),a(U,{id:"email",type:"url",modelValue:s(e).website,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).website=o),class:"block w-full mt-1"},null,8,["modelValue"]),a(d,{message:s(e).errors.website,class:"mt-2"},null,8,["message"])]),t("div",K,[a(m,{for:"manufacturer_trader",value:"Manufacturer/Trader"}),f(t("select",{class:"w-full border border-gray-300 rounded-md focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":l[2]||(l[2]=o=>s(e).type=o),requried:""},Z,512),[[h,s(e).type]]),a(d,{message:s(e).errors.type,class:"mt-2"},null,8,["message"])]),t("div",ee,[a(m,{for:"country",value:"Country"}),f(t("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[3]||(l[3]=o=>s(e).country=o),required:""},[se,(c(!0),i(k,null,V(P.countries,o=>(c(),i("option",{value:o.id},C(o.name),9,oe))),256))],512),[[h,s(e).country]]),a(d,{message:s(e).errors.country,class:"mt-2"},null,8,["message"])]),w.value||s(e).state?(c(),i("div",ae,[a(m,{for:"state",value:"State"}),f(t("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[4]||(l[4]=o=>s(e).state=o),requried:""},[te,(c(!0),i(k,null,V(w.value,o=>(c(),i("option",{value:o.id},C(o.name),9,le))),256))],512),[[h,s(e).state]]),a(d,{message:s(e).errors.state,class:"mt-2"},null,8,["message"])])):S("",!0),g.value||s(e).city?(c(),i("div",re,[a(m,{for:"city",value:"City"}),f(t("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[5]||(l[5]=o=>s(e).city=o),required:""},[ne,(c(!0),i(k,null,V(g.value,o=>(c(),i("option",{value:o.id},C(o.name),9,ce))),256))],512),[[h,s(e).city]]),a(d,{message:s(e).errors.city,class:"mt-2"},null,8,["message"])])):S("",!0),t("div",ue,[a(m,{for:"address",value:"Address"}),a(U,{id:"address",type:"text",modelValue:s(e).address,"onUpdate:modelValue":l[6]||(l[6]=o=>s(e).address=o),class:"block w-full mt-1",autocomplete:"address"},null,8,["modelValue"]),a(d,{message:s(e).errors.address,class:"mt-2"},null,8,["message"])])]),actions:p(()=>[a(z,{on:s(e).recentlySuccessful,class:"mr-3"},{default:p(()=>[y(" Saved. ")]),_:1},8,["on"]),a(E,{class:B({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:p(()=>[y(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{he as default};
