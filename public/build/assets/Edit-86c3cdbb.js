import{u as h,d as V,N as x,c as q,w as k,o as r,a as o,p as C,b as l,h as t,j as y,E as v,e as m,i as g,F as w,f as U,g as N,t as b}from"./app-a99c1f11.js";import{_ as E}from"./AppLayout-f8922642.js";import{_ as c}from"./TextInput-aed48f04.js";import{_ as d}from"./InputLabel-4d3c9eb7.js";import{_ as n}from"./InputError-00a923bd.js";import{_ as B}from"./SecondaryButton-9f95c4b3.js";import"./Banner-af0e7d7b.js";import"./BottomTab-9f3a44df.js";import"./Sidebar-08876489.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastList-b09059d6.js";const F={class:"max-w-3xl bg-white rounded-md mt-5"},$=["onSubmit"],j=o("div",{class:"w-full flex justify-center font-bold text-2xl py-3"}," Edit User ",-1),A={class:"gap-2 px-4 py-2"},D={class:"grid grid-cols-2 gap-2"},M=o("option",{name:"",id:"",selected:"",disabled:""}," Select Country ",-1),O=["value"],P={key:0},T=o("option",{value:"",selected:"",disabled:""}," Select State ",-1),L=["value"],z={key:1},G=o("option",{value:"",selected:"",disabled:""}," Select City ",-1),H=["value"],I={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},le={__name:"Edit",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,user:Object,countries:Object},setup(_){const u=_,e=h({name:u.user.name,address:u.user.address,country:u.user.country,state:u.user.state,city:u.user.city,email:u.user.email,number:u.user.number,password:null,password_confirmation:null}),f=V(null),p=V(null);x(()=>{e.country&&axios.get(route("states",{country:e.country})).then(i=>{f.value=i.data.length>0?i.data:null,e.state=null,e.city=null,p.value=null})}),x(()=>{e.state&&axios.get(route("cities",{state:e.state})).then(i=>{p.value=i.data.length>0?i.data:null})});const S=()=>{e.patch(route("user.update",{user:u.user}),{onFinish:()=>e.reset("password","password_confirmation")})};return(i,a)=>(r(),q(E,{title:"Settings"},{default:k(()=>[o("div",F,[o("form",{onSubmit:C(S,["prevent"])},[j,o("div",A,[o("div",D,[o("div",null,[l(d,{for:"name",value:"Name"}),l(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(e).name,"onUpdate:modelValue":a[0]||(a[0]=s=>t(e).name=s),required:"",autofocus:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.name},null,8,["message"])]),o("div",null,[l(d,{for:"email",value:"Email"}),l(c,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(e).email,"onUpdate:modelValue":a[1]||(a[1]=s=>t(e).email=s),required:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.email},null,8,["message"])]),o("div",null,[l(d,{for:"number",value:"Number"}),l(c,{id:"number",type:"text",class:"mt-1 block w-full",modelValue:t(e).number,"onUpdate:modelValue":a[2]||(a[2]=s=>t(e).number=s),required:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.number},null,8,["message"])]),o("div",null,[l(d,{for:"country",value:"Country"}),y(o("select",{name:"country",id:"country",class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":a[3]||(a[3]=s=>t(e).country=s),required:""},[M,(r(!0),m(w,null,g(_.countries,s=>(r(),m("option",{value:s.id},b(s.name),9,O))),256))],512),[[v,t(e).country]]),l(n,{class:"mt-2",message:t(e).errors.country},null,8,["message"])]),f.value?(r(),m("div",P,[l(d,{for:"state",value:"State"}),y(o("select",{name:"state",id:"state",class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":a[4]||(a[4]=s=>t(e).state=s),required:""},[T,(r(!0),m(w,null,g(f.value,s=>(r(),m("option",{value:s.id},b(s.name),9,L))),256))],512),[[v,t(e).state]]),l(n,{class:"mt-2",message:t(e).errors.state},null,8,["message"])])):U("",!0),p.value?(r(),m("div",z,[l(d,{for:"city",value:"City"}),y(o("select",{name:"city",id:"city",class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":a[5]||(a[5]=s=>t(e).city=s),required:""},[G,(r(!0),m(w,null,g(p.value,s=>(r(),m("option",{value:s.id},b(s.name),9,H))),256))],512),[[v,t(e).city]]),l(n,{class:"mt-2",message:t(e).errors.city},null,8,["message"])])):U("",!0)]),o("div",null,[l(d,{for:"address",value:"Address"}),l(c,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:t(e).address,"onUpdate:modelValue":a[6]||(a[6]=s=>t(e).address=s),required:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.address},null,8,["message"])]),o("div",null,[l(d,{for:"password",value:"Passowrd"}),l(c,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:t(e).password,"onUpdate:modelValue":a[7]||(a[7]=s=>t(e).password=s),autocomplete:"new-password",required:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.password},null,8,["message"])]),o("div",null,[l(d,{for:"password_confirmation",value:"Confirm Password"}),l(c,{id:"password_confirmation",modelValue:t(e).password_confirmation,"onUpdate:modelValue":a[8]||(a[8]=s=>t(e).password_confirmation=s),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),l(n,{class:"mt-2",message:t(e).errors.password_confirmation},null,8,["message"])])]),o("div",I,[o("button",{class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:a[9]||(a[9]=(...s)=>i.destroy&&i.destroy(...s))}," Delete "),l(B,{class:"btn-indigo ml-auto",type:"submit"},{default:k(()=>[N("Update User")]),_:1})])],40,$)])]),_:1}))}};export{le as default};
