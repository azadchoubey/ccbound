import{d as y,c as l,w as a,o as i,a as t,b as d,h as o,L as r,e as _,i as g,F as v,t as n,g as p,f as h}from"./app-a99c1f11.js";import{_ as w}from"./AdminLayout-332649b1.js";import{t as k}from"./laravel-vue-pagination.es-8bba9f07.js";import{f as C}from"./helpers-3a38de6b.js";import"./Banner-af0e7d7b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./UserGroupIcon-c8a6de1d.js";import"./MoneyIcon-6dab46af.js";import"./LogoutIcon-25c55303.js";import"./ToastList-b09059d6.js";const D={class:"px-[2rem]"},S={class:"flex items-center justify-between mb-6"},j=t("span",null,"Create",-1),B=t("span",{class:"hidden md:inline"}," Subscription",-1),L={class:"bg-white rounded-md shadow"},A={class:"w-full whitespace-nowrap"},N=t("thead",null,[t("tr",{class:"font-bold text-left"},[t("th",{class:"px-6 pt-6 pb-4"},"Date"),t("th",{class:"px-6 pt-6 pb-4"},"Subscription Code"),t("th",{class:"px-6 pt-6 pb-4"},"Price"),t("th",{class:"px-6 pt-6 pb-4"},"Duration(months)"),t("th",{class:"px-6 pt-6 pb-4"},"Duration(days)"),t("th",{class:"flex justify-center px-6 pt-6 pb-4"},"Actions")])],-1),V={class:"hover:bg-gray-100 focus-within:bg-gray-100"},F={class:"border-t"},P={class:"flex items-center px-6 py-4 font-semibold"},$={class:"border-t"},E={class:"flex items-center px-6 py-4 font-semibold",href:"/organizations/asdf/edit"},T={class:"border-t"},z={class:"flex items-center px-6 py-4 font-semibold"},I={class:"border-t"},M={class:"flex items-center px-6 py-4 font-semibold"},O={class:"border-t"},q={class:"flex items-center px-6 py-4 font-semibold"},G={class:"border-t flex gap-2 justify-center items-center pt-2.5"},H={class:"flex justify-center mt-2"},st={__name:"Index",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,subscriptions:Object},setup(u){const m=y(u.subscriptions),f=(s,c)=>{axios.patch(route("admin.subscription.updateStatus",{subscription:s,status:c})).then(e=>{e.status===200&&(console.log(e.data),window.location.reload())})},x=(s=1)=>{axios.get(route("admin.subscription.index",{page:s})).then(c=>{adminsList.value=c.data})};return(s,c)=>(i(),l(w,{title:"Subscription"},{default:a(()=>[t("div",D,[t("div",S,[d(o(r),{class:"mt-2 btn-indigo",href:s.route("admin.subscription.create")},{default:a(()=>[j,B]),_:1},8,["href"])]),t("div",L,[t("table",A,[N,t("tbody",null,[(i(!0),_(v,null,g(m.value.data,e=>(i(),_("tr",V,[t("td",F,[t("p",P,n(o(C)(e.created_at.slice(0,10))),1)]),t("td",$,[t("p",E,n(e.code),1)]),t("td",T,[t("p",z,"₹ "+n(e.price),1)]),t("td",I,[t("p",M,n(e.months)+" Months",1)]),t("td",O,[t("p",q,n(e.days)+" Days",1)]),t("td",G,[d(o(r),{href:s.route("admin.subscription.edit",{subscription:e}),class:"flex items-center gap-1 py-1 text-sm font-bold text-slate-900"},{default:a(()=>[p("Edit")]),_:2},1032,["href"]),e.active===0?(i(),l(o(r),{key:0,onClick:b=>f(e,1),class:"flex items-center gap-1 py-1 text-sm font-bold text-slate-900"},{default:a(()=>[p("Activate")]),_:2},1032,["onClick"])):h("",!0),e.active===1?(i(),l(o(r),{key:1,onClick:b=>f(e,0),class:"flex items-center gap-1 py-1 text-sm font-bold text-slate-900"},{default:a(()=>[p("Deactivate")]),_:2},1032,["onClick"])):h("",!0)])]))),256))])])]),t("div",H,[d(o(k),{data:m.value,onPaginationChangePage:x},null,8,["data"])])])]),_:1}))}};export{st as default};
