import{x as O,d as v,e as a,b as t,w as s,F as f,o as r,a as e,t as d,f as b,i as g,g as c,K as L,u as x,h as C,L as w,j as N,l as V}from"./app-ad745f98.js";import{C as $}from"./ChemicalDetailsCard-6c195794.js";import{_ as D}from"./PrimaryButton-65f58580.js";import{_ as k}from"./SecondaryButton-efbe443f.js";import{L as F}from"./LogoutIcon-b8d63e69.js";import{_ as U}from"./DialogModal-ea914144.js";import{A as E}from"./AddUserIcon-88bcfd9c.js";import{B as I}from"./BinIcon-aba235df.js";import{_ as P}from"./ChatRoomLayout-1e97b12e.js";import"./BuildingIcon-56240bf1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./MapPinIcon-fb198b97.js";import"./UserIcon-f7658644.js";import"./helpers-3a38de6b.js";/* empty css                                                                            */import"./Modal-fb88d194.js";import"./ArrowLeftIcon-d696fddf.js";import"./Sidebar-8688ddd2.js";import"./ToastList-cd5f7580.js";const q={class:"max-w-[40rem] m-auto"},S={class:"px-2 flex-1 mb-[5rem] w-full"},T={class:"p-2 mt-2 bg-white"},G={class:"text-sm font-bold text-gray-600"},K={class:"p-1 bg-green-500 rounded-full"},z=e("p",null,"Add participants",-1),H={class:"flex gap-2 mb-2"},J=["src"],Q={class:"w-full"},R={class:"flex justify-between w-full"},W={class:"p-2 mt-2 bg-white"},X=e("p",{class:"text-red-500"},"Exit group",-1),Y=e("p",{class:"text-red-500"},"Delete Chat",-1),Z={class:"mt-4"},ee=e("p",{class:"mb-2"},"Add People",-1),te={class:"flex items-center gap-2 mb-2"},oe=["value"],se={for:"name"},ke={__name:"Settings",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,chatroom:Object,members:Object,memberCount:Number,employees:Object,auth_member:Object,product:Object},setup(n){const l=n,h=O(),m=v(!1),u=v([]),y=()=>{m.value=!0},p=()=>{m.value=!1},A=()=>{L.post(route("enquiry.chatroom.addUser",{id:l.chatroom.id,staff:u.value})).then(i=>{console.log(i.data),m.value=!1})},j=()=>{if(!confirm("Are u sure u wanna leave the group"))return;x({user:h.props.value.user.id}).post(route("chatroom.exitGroup",{chatroom:l.chatroom}))},B=()=>{x({user:h.props.value.user.id}).post(route("chatroom.deleteMessages",{chatroom:l.chatroom}))};return(i,_)=>(r(),a(f,null,[t(P,{title:"Chatrom",name:`My Enquiry - ${l.chatroom.name}`},{default:s(()=>[e("div",q,[e("div",S,[t($,{details:n.product,link:null},null,8,["details"]),e("div",T,[e("p",G,d(l.memberCount)+" participants ",1),n.auth_member.pivot.chat_left==0?(r(),a("button",{key:0,onClick:y,class:"flex items-center gap-2 p-2"},[e("div",K,[t(E,{class:"text-white"})]),z])):b("",!0),(r(!0),a(f,null,g(l.members,o=>(r(),a("div",H,[e("div",null,[e("img",{src:o.profile_photo_url,alt:"profile image",class:"h-[3rem] w-[3rem]"},null,8,J)]),e("div",Q,[e("div",R,[t(C(w),{href:i.route("profile.display",{id:o.id})},{default:s(()=>[c(d(o.name),1)]),_:2},1032,["href"])]),t(C(w),{href:i.route("company.show",{id:o.company.id})},{default:s(()=>[c(d(o.company.name),1)]),_:2},1032,["href"])])]))),256))]),e("div",W,[n.auth_member.pivot.chat_left==0?(r(),a("button",{key:0,onClick:j,class:"flex gap-4 p-2"},[t(F,{class:"text-red-500"}),X])):b("",!0),e("button",{onClick:B,class:"flex gap-4 p-2"},[t(I,{class:"text-red-500"}),Y])])])])]),_:1},8,["name"]),t(U,{show:m.value,onClose:p},{content:s(()=>[e("div",Z,[ee,(r(!0),a(f,null,g(n.employees,o=>(r(),a("div",te,[N(e("input",{type:"checkbox",name:"staff",value:o.id,"onUpdate:modelValue":_[0]||(_[0]=M=>u.value=M)},null,8,oe),[[V,u.value]]),e("label",se,d(o.name),1)]))),256))])]),footer:s(()=>[t(k,{onClick:p},{default:s(()=>[c(" Ok ")]),_:1}),t(k,{onClick:p},{default:s(()=>[c(" Cancel ")]),_:1}),t(D,{onClick:A,class:"ml-4"},{default:s(()=>[c(" Add ")]),_:1})]),_:1},8,["show"])],64))}};export{ke as default};
