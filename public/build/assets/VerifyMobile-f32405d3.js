import{u as O,d,k as S,e as m,b as t,h as e,w as a,F as N,o as c,H as B,f as C,a as s,n as p,g as l,t as f,p as _,L as h,K as b}from"./app-ad745f98.js";import{_ as L}from"./TextInput-b0ea2240.js";import{A as j}from"./AuthenticationCard-3522cbd1.js";import{_ as A}from"./AuthenticationCardLogo-cbc190c1.js";import{_ as v}from"./PrimaryButton-65f58580.js";import"./_plugin-vue_export-helper-c27b6911.js";const F=s("div",{class:"mb-4 text-sm text-gray-600"}," Before continuing, could you verify your mobile number by submitting the otp we have just sent you? If you didn't receive the otp, we will gladly send you another. ",-1),M={key:0,class:"mb-4 font-medium text-sm text-green-600"},T=["onSubmit"],$={class:"mt-4 flex items-center justify-between"},E={class:"text-red-600 text-sm mt-2"},H={class:"text-green-600 text-sm mt-2"},I=["onSubmit"],P={class:"mt-4 flex items-center justify-between"},G={__name:"VerifyMobile",props:{status:String},setup(y){const g=y,o=O({otp:null}),n=d(null),r=d(null),x=()=>{b.post(route("mobile.verify",{otp:o.otp})).then(i=>{i.data==0&&(n.value="Invalid Otp",r.value=null),i.data==1&&(n.value=null,r.value="Otp Verified",setTimeout(()=>{window.location="/"},3e3)),i.data==-1&&(r.value=null,n.value="Otp expired")})},w=()=>{b.post(route("send.otp")).then(i=>{r.value="OTP sent to your registered mobile",n.value=null})},V=S(()=>g.status==="verification-link-sent");return(i,u)=>(c(),m(N,null,[t(e(B),{title:"Mobile Number Verification"}),t(j,null,{logo:a(()=>[t(A)]),default:a(()=>[F,e(V)?(c(),m("div",M," A new otp has been sent to your mobile number which you provided in your profile settings. ")):C("",!0),s("form",{onSubmit:_(x,["prevent"])},[s("div",$,[t(L,{type:"text",modelValue:e(o).otp,"onUpdate:modelValue":u[0]||(u[0]=k=>e(o).otp=k),required:""},null,8,["modelValue"]),t(v,{class:p({"opacity-25":e(o).processing}),disabled:e(o).processing},{default:a(()=>[l(" Verify ")]),_:1},8,["class","disabled"])]),s("p",E,f(n.value),1),s("p",H,f(r.value),1)],40,T),s("form",{onSubmit:_(w,["prevent"])},[s("div",P,[t(v,{class:p({"opacity-25":e(o).processing}),disabled:e(o).processing},{default:a(()=>[l(" Resend Otp ")]),_:1},8,["class","disabled"]),s("div",null,[t(e(h),{href:i.route("profile.show"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:a(()=>[l(" Edit Profile")]),_:1},8,["href"]),t(e(h),{href:i.route("logout"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 ml-2"},{default:a(()=>[l(" Log Out ")]),_:1},8,["href"])])])],40,I)]),_:1})],64))}};export{G as default};
