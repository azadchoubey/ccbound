import{d as c,u as L,N as R,k as F,c as M,w as f,o as a,a as e,p as T,b as n,h as o,e as d,f as w,j as m,R as O,l as $,g as V,t as p,E as k,i as x,F as b}from"./app-a99c1f11.js";import{_ as E}from"./DialogModal-264a62a2.js";import{_ as j}from"./PrimaryButton-47053d9a.js";import{_ as i}from"./InputError-00a923bd.js";import{_ as r}from"./InputLabel-4d3c9eb7.js";import{_}from"./TextInput-aed48f04.js";import{_ as Q}from"./FormLayout-08758c22.js";import"./Banner-af0e7d7b.js";import"./ArrowLeftIcon-f9739669.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-08876489.js";import"./ToastList-b09059d6.js";const X={class:"max-w-[40rem]"},z=e("div",{class:"justify-center hidden w-full p-4 md:flex"},[e("p",{class:"text-xl font-bold"},"Post In Enquiry")],-1),G={class:"px-[2rem] py-[1rem] bg-white"},H=["onSubmit"],J={class:"mb-2"},K={class:"flex"},W=e("span",{class:"text-sm text-red-600"},"*",-1),Y={class:"mb-2"},Z={class:"flex"},ee=e("span",{class:"text-sm text-red-600"},"*",-1),te={class:"grid grid-cols-2 gap-2 mb-2"},se={class:"grid items-center grid-cols-1 gap-4 my-2"},le={class:"flex"},oe=e("span",{class:"text-sm text-red-600"},"*",-1),ne={class:"grid grid-cols-3 gap-2"},ue=e("div",null,null,-1),ae={class:"flex flex-col items-center w-full"},de=e("div",null,null,-1),ie={class:"flex items-center gap-2"},re=e("label",{for:"enquiries"},"Do you want to show this post in Enquires Tab?",-1),ce={class:"grid grid-cols-3"},me=e("div",null,null,-1),pe={class:"w-full mt-2"},ve=e("div",null,null,-1),fe={class:"grid grid-cols-2 gap-2"},_e={class:"flex"},ye=e("span",{class:"text-sm text-red-600"},"*",-1),ge=e("option",{value:"",selected:"",disabled:""}," Select Country ",-1),xe=["value"],be={key:0},he={class:"flex"},qe=e("span",{class:"text-sm text-red-600"},"*",-1),we=e("option",{value:"",selected:"",disabled:""}," Select State ",-1),Ve=["value"],ke={key:1},Ce={class:"flex"},Se=e("span",{class:"text-sm text-red-600"},"*",-1),Ne=e("option",{value:"",selected:"",disabled:""}," Select City ",-1),Ue=["value"],$e=e("p",{class:"mt-2 text-red-600"}," Note: The enquiry will be deactivated after 14 days. ",-1),je={class:"grid grid-cols-3"},Re=e("div",null,null,-1),Ee=e("div",null,null,-1),De={class:"mt-4"},Be=e("p",{class:"mb-2"},"Add People",-1),Ae={class:"p-2 mt-2 bg-white"},Ie={class:"flex gap-2"},Pe=e("option",{value:"user"},"User",-1),Le=e("option",{value:"company"},"Company",-1),Fe=[Pe,Le],Me={class:"flex items-center gap-2 mb-2"},Te=["value"],Oe={for:"name"},Qe={class:"flex justify-end"},Xe={class:"mt-4"},ze=e("p",{class:"mb-2"},"Add Staff",-1),Ge={class:"flex items-center gap-2 mb-2"},He=["value"],Je={for:"name"},Ke={class:"flex justify-end"},it={__name:"Create",props:{employees:Object,contacts:Object,countries:Object},setup(C){const S=C,h=c(!1),v=c(!1),y=c("user"),g=c(""),t=L({productName:"",casNo:"",quantityRequired:"",purityRequired:"",structure:null,description:"",staff:c([]),docs:null,enquiry:!0,quote:null,people:c([]),country:"",state:"",city:""}),N=c(null),q=c(null);R(()=>{t.country&&axios.get(route("states",{country:t.country})).then(u=>{N.value=u.data.length>0?u.data:null,t.state=null,t.city=null,q.value=null})}),R(()=>{t.state&&axios.get(route("cities",{state:t.state})).then(u=>{q.value=u.data.length>0?u.data:null})});const D=F(()=>{if(g.value!==""){if(y.value==="user")return S.contacts.filter(u=>g.value.toLowerCase().split(" ").every(l=>u.name.toLowerCase().includes(l)));if(y.value==="company")return S.contacts.filter(u=>g.value.toLowerCase().split(" ").every(l=>u.company.name.toLowerCase().includes(l)))}else return S.contacts}),B=()=>{t.quote=document.getElementById("quote").value,t.post(route("enquiry.store"),{onSuccess:u=>{console.log("res"+u.props)}})},A=()=>{t.structure=null,document.getElementById("structure").value=null},I=()=>{t.docs=null,document.getElementById("docs").value=null},P=u=>{t.docs=Array.from(u.target.files)};return(u,l)=>(a(),M(Q,{title:"Add Enquiry",navigation:u.route("enquiry.index")},{default:f(()=>[e("div",X,[z,e("div",G,[e("form",{onSubmit:T(B,["prevent"])},[e("div",J,[e("div",K,[n(r,{for:"product_name",value:"Product Name"}),W]),n(_,{id:"product_name",modelValue:o(t).productName,"onUpdate:modelValue":l[0]||(l[0]=s=>o(t).productName=s),type:"text",class:"block w-full mt-1",required:""},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.productName},null,8,["message"])]),e("div",Y,[e("div",Z,[n(r,{for:"cas_no",value:"CAS No"}),ee]),n(_,{id:"cas_no",modelValue:o(t).casNo,"onUpdate:modelValue":l[1]||(l[1]=s=>o(t).casNo=s),type:"text",class:"block w-full mt-1",required:""},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.casNo},null,8,["message"])]),e("div",te,[e("div",null,[n(r,{for:"quantity_required",value:"Quantity"}),n(_,{id:"quantity_required",modelValue:o(t).quantityRequired,"onUpdate:modelValue":l[2]||(l[2]=s=>o(t).quantityRequired=s),type:"text",class:"block w-full mt-1"},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.quantityRequired},null,8,["message"])]),e("div",null,[n(r,{for:"purity_required",value:"Purity"}),n(_,{id:"purity_required",modelValue:o(t).purityRequired,"onUpdate:modelValue":l[3]||(l[3]=s=>o(t).purityRequired=s),type:"text",class:"block w-full mt-1"},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.purityRequired},null,8,["message"])])]),e("div",null,[n(r,{for:"structure",value:"Structure"}),e("input",{type:"file",name:"structure",onInput:l[4]||(l[4]=s=>o(t).structure=s.target.files[0]),accept:".pdf, .jpg, .jpeg, .png, .doc, .docx",id:"structure"},null,32),o(t).structure?(a(),d("button",{key:0,class:"text-red-800 bg-white rounded",onClick:A},"X")):w("",!0),n(i,{class:"mt-2",message:o(t).errors.structure},null,8,["message"])]),e("div",se,[e("div",null,[e("div",le,[n(r,{for:"description",value:"Description"}),oe]),m(e("textarea",{type:"text",class:"block w-full mt-1","onUpdate:modelValue":l[5]||(l[5]=s=>o(t).description=s)},null,512),[[O,o(t).description]]),n(i,{class:"mt-2",message:o(t).errors.description},null,8,["message"])]),e("div",ne,[ue,e("div",ae,[e("button",{type:"button",onClick:l[6]||(l[6]=s=>v.value=!0),class:"w-full py-2 text-white bg-blue-400 rounded-lg"}," Add Staff ")]),de]),e("div",ie,[m(e("input",{type:"checkbox",name:"enquiries",id:"enquiries","onUpdate:modelValue":l[7]||(l[7]=s=>o(t).enquiry=s),checked:""},null,512),[[$,o(t).enquiry]]),re]),e("div",null,[n(r,{for:"docs",value:"Docs"}),e("input",{type:"file",name:"docs",multiple:"",onInput:P,id:"docs",accept:".pdf, .jpg, .jpeg, .png, .doc, .docx"},null,32),o(t).docs?(a(),d("button",{key:0,class:"text-red-800 bg-white rounded",onClick:I},"X")):w("",!0),n(i,{class:"mt-2",message:o(t).errors.docs},null,8,["message"])])]),n(_,{id:"quote",modelValue:o(t).quote,"onUpdate:modelValue":l[8]||(l[8]=s=>o(t).quote=s),type:"text",class:"block w-full mt-1",value:`Please Quote for ${o(t).productName} with ${o(t).purityRequired} for ${o(t).quantityRequired}`},null,8,["modelValue","value"]),V(p(o(t).quote)+" ",1),n(i,{class:"mt-2",message:o(t).errors.quote},null,8,["message"]),e("div",ce,[me,e("div",pe,[e("button",{type:"button",onClick:l[9]||(l[9]=s=>h.value=!0),class:"w-full py-2 text-white bg-blue-500 rounded-lg"}," Share with ")]),ve]),e("div",fe,[e("div",null,[e("div",_e,[n(r,{for:"country",value:"Country"}),ye]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[10]||(l[10]=s=>o(t).country=s),required:""},[ge,(a(!0),d(b,null,x(C.countries,s=>(a(),d("option",{value:s.id},p(s.name),9,xe))),256))],512),[[k,o(t).country]]),n(i,{class:"mt-2",message:o(t).errors.country},null,8,["message"])]),N.value?(a(),d("div",be,[e("div",he,[n(r,{for:"state",value:"State"}),qe]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[11]||(l[11]=s=>o(t).state=s)},[we,(a(!0),d(b,null,x(N.value,s=>(a(),d("option",{value:s.id},p(s.name),9,Ve))),256))],512),[[k,o(t).state]]),n(i,{class:"mt-2",message:o(t).errors.state},null,8,["message"])])):w("",!0),q.value?(a(),d("div",ke,[e("div",Ce,[n(r,{for:"city",value:"City"}),Se]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[12]||(l[12]=s=>o(t).city=s)},[Ne,(a(!0),d(b,null,x(q.value,s=>(a(),d("option",{value:s.id},p(s.name),9,Ue))),256))],512),[[k,o(t).city]]),n(i,{class:"mt-2",message:o(t).errors.city},null,8,["message"])])):w("",!0)]),$e,e("div",je,[Re,n(j,{class:"mt-4 w-full flex justify-center rounded-lg font-bold p-2 mb-[5rem] bg-blue-600"},{default:f(()=>[V("Submit ")]),_:1}),Ee])],40,H)])]),n(E,{show:h.value,onClose:l[17]||(l[17]=s=>h.value=!1)},{content:f(()=>[e("div",De,[Be,e("div",Ae,[e("div",Ie,[m(e("select",{"onUpdate:modelValue":l[13]||(l[13]=s=>y.value=s),class:"rounded-lg"},Fe,512),[[k,y.value]]),n(_,{type:"text",class:"flex-1",modelValue:g.value,"onUpdate:modelValue":l[14]||(l[14]=s=>g.value=s),placeholder:`Search ${y.value}`},null,8,["modelValue","placeholder"])])]),(a(!0),d(b,null,x(o(D),s=>(a(),d("div",Me,[m(e("input",{type:"checkbox",name:"contact",id:"contact",value:s,"onUpdate:modelValue":l[15]||(l[15]=U=>o(t).people=U)},null,8,Te),[[$,o(t).people]]),e("label",Oe,p(s.name)+" @ "+p(s.company.name),1)]))),256))]),e("div",Qe,[n(j,{onClick:l[16]||(l[16]=s=>h.value=!1)},{default:f(()=>[V("Done")]),_:1})])]),_:1},8,["show"]),n(E,{show:v.value,onClose:l[20]||(l[20]=s=>v.value=!v.value)},{content:f(()=>[e("div",Xe,[ze,(a(!0),d(b,null,x(C.employees,s=>(a(),d("div",Ge,[m(e("input",{type:"checkbox",name:"staff",value:s.id,"onUpdate:modelValue":l[18]||(l[18]=U=>o(t).staff=U)},null,8,He),[[$,o(t).staff]]),e("label",Je,p(s.name),1)]))),256))]),e("div",Ke,[n(j,{onClick:l[19]||(l[19]=s=>v.value=!v.value)},{default:f(()=>[V("Done")]),_:1})])]),_:1},8,["show"])]),_:1},8,["navigation"]))}};export{it as default};
