import{d as c,u as A,N as R,k as L,c as M,w as f,o as u,a as e,p as T,b as n,h as o,e as a,f as w,j as m,R as F,l as U,g as V,t as p,E as k,i as x,F as b}from"./app-ad745f98.js";import{_ as E}from"./DialogModal-1e7001ec.js";import{_ as j}from"./PrimaryButton-804b527b.js";import{_ as i}from"./InputError-5f6dd6ed.js";import{_ as r}from"./InputLabel-dc2871da.js";import{_}from"./TextInput-e764b81b.js";import{_ as O}from"./FormLayout-ff926ca8.js";import"./Banner-2b5a5794.js";import"./ArrowLeftIcon-d696fddf.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-8688ddd2.js";import"./ToastList-cd5f7580.js";const Q={class:"max-w-[40rem]"},X=e("div",{class:"justify-center hidden w-full p-4 md:flex"},[e("p",{class:"text-xl font-bold"},"Post In Enquiry")],-1),z={class:"px-[2rem] py-[1rem] bg-white"},G=["onSubmit"],H={class:"mb-2"},J={class:"flex"},K=e("span",{class:"text-sm text-red-600"},"*",-1),W={class:"mb-2"},Y={class:"flex"},Z=e("span",{class:"text-sm text-red-600"},"*",-1),ee={class:"grid grid-cols-2 gap-2 mb-2"},te={class:"grid items-center grid-cols-1 gap-4 my-2"},se={class:"flex"},le=e("span",{class:"text-sm text-red-600"},"*",-1),oe={class:"grid grid-cols-3 gap-2"},ne=e("div",null,null,-1),ue={class:"flex flex-col items-center w-full"},ae=e("div",null,null,-1),de={class:"flex items-center gap-2"},ie=e("label",{for:"enquiries"},"Do you want to show this post in Enquires Tab?",-1),re={class:"grid grid-cols-3"},ce=e("div",null,null,-1),me={class:"w-full mt-2"},pe=e("div",null,null,-1),ve={class:"grid grid-cols-2 gap-2"},fe={class:"flex"},_e=e("span",{class:"text-sm text-red-600"},"*",-1),ye=e("option",{value:"",selected:"",disabled:""}," Select Country ",-1),ge=["value"],xe={key:0},be={class:"flex"},he=e("span",{class:"text-sm text-red-600"},"*",-1),qe=e("option",{value:"",selected:"",disabled:""}," Select State ",-1),we=["value"],Ve={key:1},ke={class:"flex"},Ce=e("span",{class:"text-sm text-red-600"},"*",-1),Se=e("option",{value:"",selected:"",disabled:""}," Select City ",-1),Ne=["value"],$e=e("p",{class:"mt-2 text-red-600"}," Note: The enquiry will be deactivated after 14 days. ",-1),Ue={class:"grid grid-cols-3"},je=e("div",null,null,-1),Re=e("div",null,null,-1),Ee={class:"mt-4"},De=e("p",{class:"mb-2"},"Add People",-1),Be={class:"p-2 mt-2 bg-white"},Ie={class:"flex gap-2"},Pe=e("option",{value:"user"},"User",-1),Ae=e("option",{value:"company"},"Company",-1),Le=[Pe,Ae],Me={class:"flex items-center gap-2 mb-2"},Te=["value"],Fe={for:"name"},Oe={class:"flex justify-end"},Qe={class:"mt-4"},Xe=e("p",{class:"mb-2"},"Add Staff",-1),ze={class:"flex items-center gap-2 mb-2"},Ge=["value"],He={for:"name"},Je={class:"flex justify-end"},dt={__name:"Create",props:{employees:Object,contacts:Object,countries:Object},setup(C){const S=C,h=c(!1),v=c(!1),y=c("user"),g=c(""),t=A({productName:"",casNo:"",quantityRequired:"",purityRequired:"",structure:null,description:"",staff:c([]),docs:null,enquiry:!0,quote:null,people:c([]),country:"",state:"",city:""}),N=c(null),q=c(null);R(()=>{t.country&&axios.get(route("states",{country:t.country})).then(d=>{N.value=d.data.length>0?d.data:null,t.state=null,t.city=null,q.value=null})}),R(()=>{t.state&&axios.get(route("cities",{state:t.state})).then(d=>{q.value=d.data.length>0?d.data:null})});const D=L(()=>{if(g.value!==""){if(y.value==="user")return S.contacts.filter(d=>g.value.toLowerCase().split(" ").every(l=>d.name.toLowerCase().includes(l)));if(y.value==="company")return S.contacts.filter(d=>g.value.toLowerCase().split(" ").every(l=>d.company.name.toLowerCase().includes(l)))}else return S.contacts}),B=()=>{t.quote=document.getElementById("quote").value,t.post(route("enquiry.store"),{onSuccess:d=>{console.log("res"+d.props)}})},I=()=>{t.structure=null,document.getElementById("structure").value=null},P=()=>{t.docs=null,document.getElementById("docs").value=null};return(d,l)=>(u(),M(O,{title:"Add Enquiry",navigation:d.route("enquiry.index")},{default:f(()=>[e("div",Q,[X,e("div",z,[e("form",{onSubmit:T(B,["prevent"])},[e("div",H,[e("div",J,[n(r,{for:"product_name",value:"Product Name"}),K]),n(_,{id:"product_name",modelValue:o(t).productName,"onUpdate:modelValue":l[0]||(l[0]=s=>o(t).productName=s),type:"text",class:"block w-full mt-1",required:""},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.productName},null,8,["message"])]),e("div",W,[e("div",Y,[n(r,{for:"cas_no",value:"CAS No"}),Z]),n(_,{id:"cas_no",modelValue:o(t).casNo,"onUpdate:modelValue":l[1]||(l[1]=s=>o(t).casNo=s),type:"text",class:"block w-full mt-1",required:""},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.casNo},null,8,["message"])]),e("div",ee,[e("div",null,[n(r,{for:"quantity_required",value:"Quantity"}),n(_,{id:"quantity_required",modelValue:o(t).quantityRequired,"onUpdate:modelValue":l[2]||(l[2]=s=>o(t).quantityRequired=s),type:"text",class:"block w-full mt-1"},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.quantityRequired},null,8,["message"])]),e("div",null,[n(r,{for:"purity_required",value:"Purity"}),n(_,{id:"purity_required",modelValue:o(t).purityRequired,"onUpdate:modelValue":l[3]||(l[3]=s=>o(t).purityRequired=s),type:"text",class:"block w-full mt-1"},null,8,["modelValue"]),n(i,{class:"mt-2",message:o(t).errors.purityRequired},null,8,["message"])])]),e("div",null,[n(r,{for:"structure",value:"Structure"}),e("input",{type:"file",name:"structure",onInput:l[4]||(l[4]=s=>o(t).structure=s.target.files[0]),accept:".pdf, .jpg, .jpeg, .png, .doc, .docx",id:"structure"},null,32),o(t).structure?(u(),a("button",{key:0,class:"text-red-800 bg-white rounded",onClick:I},"X")):w("",!0),n(i,{class:"mt-2",message:o(t).errors.structure},null,8,["message"])]),e("div",te,[e("div",null,[e("div",se,[n(r,{for:"description",value:"Description"}),le]),m(e("textarea",{type:"text",class:"block w-full mt-1","onUpdate:modelValue":l[5]||(l[5]=s=>o(t).description=s)},null,512),[[F,o(t).description]]),n(i,{class:"mt-2",message:o(t).errors.description},null,8,["message"])]),e("div",oe,[ne,e("div",ue,[e("button",{type:"button",onClick:l[6]||(l[6]=s=>v.value=!0),class:"w-full py-2 text-white bg-blue-400 rounded-lg"}," Add Staff ")]),ae]),e("div",de,[m(e("input",{type:"checkbox",name:"enquiries",id:"enquiries","onUpdate:modelValue":l[7]||(l[7]=s=>o(t).enquiry=s),checked:""},null,512),[[U,o(t).enquiry]]),ie]),e("div",null,[n(r,{for:"docs",value:"Docs"}),e("input",{type:"file",name:"docs",onInput:l[8]||(l[8]=s=>o(t).docs=s.target.files[0]),id:"docs",accept:".pdf, .jpg, .jpeg, .png, .doc, .docx"},null,32),o(t).docs?(u(),a("button",{key:0,class:"text-red-800 bg-white rounded",onClick:P},"X")):w("",!0),n(i,{class:"mt-2",message:o(t).errors.docs},null,8,["message"])])]),n(_,{id:"quote",modelValue:o(t).quote,"onUpdate:modelValue":l[9]||(l[9]=s=>o(t).quote=s),type:"text",class:"block w-full mt-1",value:`Please Quote for ${o(t).productName} with ${o(t).purityRequired} for ${o(t).quantityRequired}`},null,8,["modelValue","value"]),V(p(o(t).quote)+" ",1),n(i,{class:"mt-2",message:o(t).errors.quote},null,8,["message"]),e("div",re,[ce,e("div",me,[e("button",{type:"button",onClick:l[10]||(l[10]=s=>h.value=!0),class:"w-full py-2 text-white bg-blue-500 rounded-lg"}," Share with ")]),pe]),e("div",ve,[e("div",null,[e("div",fe,[n(r,{for:"country",value:"Country"}),_e]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[11]||(l[11]=s=>o(t).country=s),required:""},[ye,(u(!0),a(b,null,x(C.countries,s=>(u(),a("option",{value:s.id},p(s.name),9,ge))),256))],512),[[k,o(t).country]]),n(i,{class:"mt-2",message:o(t).errors.country},null,8,["message"])]),N.value?(u(),a("div",xe,[e("div",be,[n(r,{for:"state",value:"State"}),he]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[12]||(l[12]=s=>o(t).state=s)},[qe,(u(!0),a(b,null,x(N.value,s=>(u(),a("option",{value:s.id},p(s.name),9,we))),256))],512),[[k,o(t).state]]),n(i,{class:"mt-2",message:o(t).errors.state},null,8,["message"])])):w("",!0),q.value?(u(),a("div",Ve,[e("div",ke,[n(r,{for:"city",value:"City"}),Ce]),m(e("select",{class:"w-full border border-gray-200 rounded-lg","onUpdate:modelValue":l[13]||(l[13]=s=>o(t).city=s)},[Se,(u(!0),a(b,null,x(q.value,s=>(u(),a("option",{value:s.id},p(s.name),9,Ne))),256))],512),[[k,o(t).city]]),n(i,{class:"mt-2",message:o(t).errors.city},null,8,["message"])])):w("",!0)]),$e,e("div",Ue,[je,n(j,{class:"mt-4 w-full flex justify-center rounded-lg font-bold p-2 mb-[5rem] bg-blue-600"},{default:f(()=>[V("Submit ")]),_:1}),Re])],40,G)])]),n(E,{show:h.value,onClose:l[18]||(l[18]=s=>h.value=!1)},{content:f(()=>[e("div",Ee,[De,e("div",Be,[e("div",Ie,[m(e("select",{"onUpdate:modelValue":l[14]||(l[14]=s=>y.value=s),class:"rounded-lg"},Le,512),[[k,y.value]]),n(_,{type:"text",class:"flex-1",modelValue:g.value,"onUpdate:modelValue":l[15]||(l[15]=s=>g.value=s),placeholder:`Search ${y.value}`},null,8,["modelValue","placeholder"])])]),(u(!0),a(b,null,x(o(D),s=>(u(),a("div",Me,[m(e("input",{type:"checkbox",name:"contact",id:"contact",value:s,"onUpdate:modelValue":l[16]||(l[16]=$=>o(t).people=$)},null,8,Te),[[U,o(t).people]]),e("label",Fe,p(s.name)+" @ "+p(s.company.name),1)]))),256))]),e("div",Oe,[n(j,{onClick:l[17]||(l[17]=s=>h.value=!1)},{default:f(()=>[V("Done")]),_:1})])]),_:1},8,["show"]),n(E,{show:v.value,onClose:l[21]||(l[21]=s=>v.value=!v.value)},{content:f(()=>[e("div",Qe,[Xe,(u(!0),a(b,null,x(C.employees,s=>(u(),a("div",ze,[m(e("input",{type:"checkbox",name:"staff",value:s.id,"onUpdate:modelValue":l[19]||(l[19]=$=>o(t).staff=$)},null,8,Ge),[[U,o(t).staff]]),e("label",He,p(s.name),1)]))),256))]),e("div",Je,[n(j,{onClick:l[20]||(l[20]=s=>v.value=!v.value)},{default:f(()=>[V("Done")]),_:1})])]),_:1},8,["show"])]),_:1},8,["navigation"]))}};export{dt as default};
