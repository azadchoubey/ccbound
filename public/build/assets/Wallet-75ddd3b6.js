import{x as B,d as m,c as S,w as r,o as _,a as e,t as i,b as l,g as n,h,L as y,e as x,f as $,i as A,F as N,K as k,G as P}from"./app-a99c1f11.js";import{_ as L}from"./AppLayout-f8922642.js";import{_ as M}from"./DialogModal-c682f939.js";import{_ as O}from"./TextInput-aed48f04.js";import{_ as T}from"./PrimaryButton-c774a4fc.js";import"./Banner-af0e7d7b.js";import"./BottomTab-9f3a44df.js";import"./Sidebar-08876489.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastList-b09059d6.js";import"./Modal-6b8225ed.js";const D={class:"p-2"},E={class:"flex flex-col justify-between bg-gradient-to-r to-green-700 from-green-900 h-[12rem] rounded-2xl p-3"},F=e("p",{class:"text-white"},"Your earned money",-1),W={class:"text-4xl font-bold text-white"},H={class:"flex gap-2"},R=["href"],Y={class:"flex justify-center w-full mt-4"},q=e("p",{class:"text-lg font-bold"},"Enter the Amount:",-1),G={class:"flex justify-end mt-10"},I={key:0,class:"flex justify-center mt-10"},J=e("div",{type:"button",class:"inline-flex items-center px-4 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-black rounded-md shadow cursor-not-allowed",disabled:""},[e("svg",{class:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),n(" Processing... ")],-1),K=[J],U={class:"p-3 mt-2 bg-white rounded-lg"},X=e("p",null,"People joined through your link",-1),Q={class:"mt-2"},Z={class:"container mx-auto mt-3 font-mono"},ee={class:"w-full mb-8 overflow-hidden rounded-lg shadow-lg"},te={class:"w-full overflow-x-auto"},oe={class:"w-full"},se=e("thead",null,[e("tr",{class:"font-semibold tracking-wide text-left text-gray-900 uppercase bg-gray-100 border-b border-gray-600 text-md"},[e("th",{class:"px-4 py-3"},"Transaction"),e("th",{class:"px-4 py-3"},"Type"),e("th",{class:"px-4 py-3"},"Amount"),e("th",{class:"px-4 py-3"},"Date"),e("th",{class:"px-4 py-3"},"Status")])],-1),ae={class:"bg-white"},re={class:"text-gray-700"},le={class:"px-4 py-3 border"},ne={class:"px-4 py-3 border"},ie={class:"px-4 py-3 text-xs border"},de={class:"px-4 py-3 text-sm border"},ce={class:"px-4 py-3 text-sm border"},we={__name:"Wallet",props:{wallet:Object,transactions:Object},setup(v){const u=B(),a=m(!1),d=m(0),p=m(!1),C=m(null),z=()=>{d.value!==0&&(p.value=!0,k.post(route("payment.create",{amount:d.value})).then(o=>{console.log(o),C.value=o.data,V(o.data.order_id),p.value=!1}).catch(o=>{console.log(o),p.value=!1}))},V=o=>{var s={key:"rzp_test_NASH81tY9JXpse",amount:d.value,currency:"INR",name:"CCBOND",description:"Add Money to Wallet",image:"",order_id:o,handler:function(t){var b=t.razorpay_payment_id,g=t.razorpay_order_id,w=t.razorpay_signature;console.log(g),console.log(b),console.log(w),k.post("/payment/verify",{razorpay_payment_id:b,razorpay_order_id:g,razorpay_signature:w,user_id:u.props.value.user.id},{headers:{"Content-Type":"application/json"}}).then(function(f){var j=f.data;alert(j===1?"Payment Success":"Payment Failed"),window.location.reload()}).catch(function(f){console.error("Error in Axios request:",f)})},prefill:{name:u.props.value.user.name,email:u.props.value.user.email,contact:u.props.value.user.number},notes:{address:"a"},theme:{color:"#3399cc"}},c=new Razorpay(s);c.on("payment.failed",function(t){}),c.open()};return(o,s)=>{const c=P("SecondaryButton");return _(),S(L,{title:"Wallet"},{default:r(()=>[e("div",D,[e("div",E,[F,e("p",W," â‚¹ "+i(v.wallet.amount),1),e("div",H,[l(h(y),{href:o.route("subscription.create"),class:"px-6 py-3 bg-white rounded-2xl"},{default:r(()=>[n(" Subscribe ")]),_:1},8,["href"]),l(h(y),{href:o.route("payout"),class:"px-6 py-3 text-white bg-black rounded-2xl"},{default:r(()=>[n(" Payout ")]),_:1},8,["href"]),e("button",{onClick:s[0]||(s[0]=t=>a.value=!a.value),href:o.route("subscription.create"),class:"px-6 py-3 bg-white rounded-2xl"}," Add Money ",8,R)])]),l(M,{show:a.value,onClose:s[4]||(s[4]=t=>a.value=!a.value)},{content:r(()=>[e("div",Y,[q,l(O,{id:"amount",modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),type:"number",class:"block w-full mt-1"},null,8,["modelValue"])]),e("div",G,[l(T,{onClick:z},{default:r(()=>[n("Submit")]),_:1})]),p.value?(_(),x("div",I,K)):$("",!0)]),footer:r(()=>[l(c,{onClick:s[2]||(s[2]=t=>a.value=!a.value)},{default:r(()=>[n(" Ok ")]),_:1}),l(c,{onClick:s[3]||(s[3]=t=>a.value=!a.value)},{default:r(()=>[n(" Cancel ")]),_:1})]),_:1},8,["show"]),e("div",U,[X,e("div",Q,[l(h(y),{href:o.route("refer.show"),class:"px-4 py-2 mt-3 text-white bg-black rounded-xl"},{default:r(()=>[n("View")]),_:1},8,["href"])])]),e("section",Z,[e("div",ee,[e("div",te,[e("table",oe,[se,e("tbody",ae,[(_(!0),x(N,null,A(v.transactions,t=>(_(),x("tr",re,[e("td",le,i(t.for),1),e("td",ne,i(t.type),1),e("td",ie,i(t.amount),1),e("td",de,i(t.created_at.slice(0,10)),1),e("td",ce,i(t.status),1)]))),256))])])])])])])]),_:1})}}};export{we as default};
