import{d as _,s as b,y as v,c as y,w as n,o as r,a as e,b as o,h as i,L as d,e as u,i as w,F as C,n as k,t as f,f as j,g as V}from"./app-ad745f98.js";import{_ as B}from"./AppLayout-d8d9702b.js";import{_ as L}from"./TextInput-b0ea2240.js";import{t as N}from"./laravel-vue-pagination.es-5db2614b.js";import{_ as $}from"./SecondaryButton-efbe443f.js";import"./Banner-2b5a5794.js";import"./BottomTab-9c18cf54.js";import"./Sidebar-8688ddd2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastList-cd5f7580.js";const F=e("div",{class:"flex justify-between p-2"},[e("p",{class:"px-2 text-xl font-semibold"},"Chats")],-1),M={class:"px-2 max-w-[40rem]"},q={class:"mt-2"},A={class:"grid grid-cols-2 border-b-[1px] border-gray-200"},D=e("p",{class:k("w-full flex justify-center")},"My Enquiries",-1),E=e("p",{class:"flex justify-center w-full font-bold"},"My Sales",-1),P={class:"mt-2"},S={class:"mt-2 max-w-[40rem] flex flex-col gap-2"},T={class:"bg-white p-[1rem] flex justify-between items-center"},z={class:"text-xl font-bold"},I={key:0,class:"flex items-center justify-center w-6 h-6 text-sm text-white bg-blue-600 rounded-full"},O={class:"flex justify-center mt-2"},ee={__name:"Index",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,chats:Object},setup(h){const m=h,l=_(m.chats),c=_(null);b(()=>{console.log(m.chats)});const p=(t=1)=>{axios.get(route("sale.chats.index",{page:t})).then(a=>{l.value=a.data})};v(c,async(t,a)=>{console.log(t),t.value!==""?axios.get(route("sale.chats.index",{search:t})).then(s=>{l.value=s.data,console.log(s.data)}):window.location.reload()});const x=(t,a)=>{l.value.data.splice(a,1),axios.delete(route("sale.chats.delete",{id:t.id}))};return(t,a)=>(r(),y(B,{title:"Chats"},{default:n(()=>[F,e("div",M,[e("div",q,[e("div",A,[o(i(d),{href:t.route("enquiry.chats.index")},{default:n(()=>[D]),_:1},8,["href"]),o(i(d),{href:t.route("sale.chats.index"),class:"border-b-[1px] pb-2 border-black transition-all duration-500 cursor-pointer"},{default:n(()=>[E]),_:1},8,["href"])]),e("div",P,[o(L,{type:"text",class:"w-full p-2 bg-gray-200",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),placeholder:"Search"},null,8,["modelValue"])]),e("div",S,[(r(!0),u(C,null,w(l.value.data,(s,g)=>(r(),u("div",T,[o(i(d),{href:t.route("sale.chats.show",{chat:s})},{default:n(()=>[e("div",null,[e("p",z,f(s.product_name),1),e("p",null,f(s.cas_no),1)]),s.unread_count!=0?(r(),u("p",I,f(s.unread_count),1)):j("",!0)]),_:2},1032,["href"]),o($,{type:"button",class:"text-white bg-red-600",onClick:U=>x(s,g)},{default:n(()=>[V("Delete ")]),_:2},1032,["onClick"])]))),256)),e("div",O,[o(i(N),{data:l.value,onPaginationChangePage:p},null,8,["data"])])])])])]),_:1}))}};export{ee as default};
