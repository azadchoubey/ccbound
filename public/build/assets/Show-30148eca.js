import{d as p,y as A,c as S,w as c,o as r,a as t,t as v,h as k,L as q,b as i,f as y,n as d,m as B,e as n,i as w,F as x,K as b,g as V}from"./app-ad745f98.js";import{_ as E}from"./TextInput-e764b81b.js";import{C}from"./ChemicalDetailsCard-6c195794.js";import{A as O}from"./ArrowRightIcon-cbb24bf8.js";import{_ as F}from"./ProfileLayout-9f6e9aa8.js";import{_ as L}from"./InfiniateScroll-ad0659fc.js";import"./SecondaryButton-efbe443f.js";import"./BuildingIcon-56240bf1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./MapPinIcon-fb198b97.js";import"./UserIcon-f7658644.js";import"./DialogModal-ea914144.js";import"./Modal-fb88d194.js";import"./helpers-3a38de6b.js";/* empty css                                                                            */import"./ArrowLeftIcon-d696fddf.js";import"./WalletIcon-6775c3c9.js";import"./LogoutIcon-b8d63e69.js";import"./MoneyIcon-a70d50ab.js";import"./UserGroupIcon-957e0a5d.js";import"./BottomTab-9c18cf54.js";import"./Sidebar-8688ddd2.js";import"./ToastList-cd5f7580.js";const M={class:"h-full md:w-[40rem] lg:w-[40rem]"},P={class:"px-2 my-2 bg-white md:p-4"},Q={class:"grid grid-cols-1 gap-2 mt-2 lg:grid-cols-2"},T=["src"],D={class:"text-sm"},R=["href"],U=t("span",{class:"inline-block"},"Edit",-1),z={class:"py-4 bg-gray-100"},I={class:"grid grid-cols-4 border-b-[1px] border-gray-200"},K={class:"px-2"},G={class:"grid grid-cols-1 gap-2 mt-2"},H={key:0,class:"mt-2"},J={class:"p-2 mt-2 bg-white"},W={class:"flex items-center gap-2"},X=["src"],ke={__name:"Show",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,company:Object,employees:Object,enquiries:Object,sales:Object,products:Object},setup(u){const h=u,m=p(h.enquiries),f=p(h.sales),g=p(h.products),j=p(h.employees);let s=p(null);const a=p("enquiry"),_=l=>{a.value=l,s.value=null},$=()=>{if(m.value.next_page_url)return b.get(m.value.next_page_url,{tab:a}).then(l=>{a==="enquiry"?m.value={...l.data,data:[...m.value.data,...l.data.data]}:a==="sales"?f.value={...l.data,data:[...f.value.data,...l.data.data]}:a==="products"&&(g.value={...l.data,data:[...g.value.data,...l.data.data]})})};A(s,async(l,o)=>{s&&s.value!==""?a.value=="products"?b.get(route("product.index",{search:s.value})).then(e=>{g.value=e.data}):a.value=="sales"?b.get(route("sales.index",{search:s.value})).then(e=>{f.value=e.data,f.value.data.length||(showProducts.value=!0)}):a.value=="enquiry"?b.get(route("enquiry.index",{search:s.value})).then(e=>{console.log(e.data),m.value=e.data}):a.value=="employees"&&(console.log("employees"),b.get(route("company.employees",{search:s.value})).then(e=>{console.log(e.data),j.value=e.data})):window.location.reload()});const N=l=>/^https?:\/\//i.test(l)?l:"http://"+l;return(l,o)=>(r(),S(F,{title:"Profile"},{default:c(()=>[t("div",M,[t("div",P,[t("div",Q,[t("img",{src:u.company.logo_url,alt:"company logo",class:"w-[10rem]"},null,8,T),t("div",null,[t("p",null,v(u.company.name),1),t("p",D,v(u.company.address),1),t("a",{href:N(u.company.website),target:"_blank",class:"block text-blue-600"},v(u.company.website),9,R),u.company.canEdit?(r(),S(k(q),{key:0,href:l.route("company.edit",{company:u.company}),class:"bg-[#0095F6] text-white flex items-center w-[5rem] px-4 py-2 rounded-lg mb-3"},{default:c(()=>[U,i(O,{class:"inline-block"})]),_:1},8,["href"])):y("",!0)])])]),t("div",z,[t("div",I,[t("button",{onClick:o[0]||(o[0]=e=>_("enquiry")),class:d(`${a.value==="enquiry"?"border-b-[1px] pb-2 border-black":""} transition-all duration-500`)},[t("p",{class:d(` ${a.value==="enquiry"?"font-bold":""} w-full flex justify-center`)}," Enquiries ",2)],2),t("button",{onClick:o[1]||(o[1]=e=>_("sales")),class:d(`${a.value==="sales"?"border-b-[1px] pb-2 border-black":""} transition-all duration-500`)},[t("p",{class:d(` ${a.value==="sales"?"font-bold":""} w-full flex justify-center`)}," Sales ",2)],2),t("button",{onClick:o[2]||(o[2]=e=>_("products")),class:d(`${a.value==="products"?"border-b-[1px] pb-2 border-black":""} transition-all duration-500`)},[t("p",{class:d(` ${a.value==="products"?"font-bold":""} w-full flex justify-center`)}," Products ",2)],2),t("button",{onClick:o[3]||(o[3]=e=>_("employees")),class:d(`${a.value==="employees"?"border-b-[1px] pb-2 border-black":""} transition-all duration-500`)},[t("p",{class:d(` ${a.value==="employees"?"font-bold":""} w-full flex justify-center`)}," Employees ",2)],2)]),t("div",null,[t("div",K,[i(E,{type:"text",modelValue:k(s),"onUpdate:modelValue":o[4]||(o[4]=e=>B(s)?s.value=e:s=e),class:"mt-3 block w-full h-[2.5rem] p-1",placeholder:"Search Product Name/CAS No"},null,8,["modelValue"])])]),t("div",G,[i(L,{onLoadMore:$,class:"space-y-4"},{default:c(()=>[a.value==="enquiry"?(r(!0),n(x,{key:0},w(m.value.data,e=>(r(),n("div",null,[i(C,{details:e,link:l.route("sale.chats.redirect",{enquiry:e.id})},null,8,["details","link"])]))),256)):y("",!0)]),_:1}),i(L,{onLoadMore:$,class:"space-y-4"},{default:c(()=>[a.value==="sales"?(r(!0),n(x,{key:0},w(f.value.data,e=>(r(),n("div",null,[i(C,{details:e,link:l.route("enquiry.chats.redirect",{sale:e.id})},null,8,["details","link"])]))),256)):y("",!0)]),_:1}),i(L,{onLoadMore:$,class:"space-y-4"},{default:c(()=>[a.value==="products"?(r(!0),n(x,{key:0},w(g.value.data,e=>(r(),n("div",null,[i(C,{details:e,link:l.route("product.chats.redirect",{product:e.id})},null,8,["details","link"])]))),256)):y("",!0)]),_:1})]),a.value==="employees"?(r(),n("div",H,[(r(!0),n(x,null,w(j.value,e=>(r(),n("div",J,[t("div",W,[t("img",{src:e.profile_photo_url,alt:"",class:"h-[5rem] rounded-full"},null,8,X),t("div",null,[i(k(q),{href:l.route("profile.display",{id:e.id}),class:"block"},{default:c(()=>[V(v(e.name),1)]),_:2},1032,["href"]),i(k(q),{href:l.route("company.show",{id:e.company.id})},{default:c(()=>[V(v(e.company.name),1)]),_:2},1032,["href"])])])]))),256))])):y("",!0)])])]),_:1}))}};export{ke as default};
