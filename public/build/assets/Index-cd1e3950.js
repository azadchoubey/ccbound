import{d as m,y as b,c as y,w as r,o as n,a as e,b as l,h as i,L as d,e as u,i as g,F as v,n as w,t as f,f as C,g as k}from"./app-ad745f98.js";import{_ as j}from"./AppLayout-d8d9702b.js";import{_ as V}from"./TextInput-b0ea2240.js";import{t as q}from"./laravel-vue-pagination.es-5db2614b.js";import{_ as B}from"./SecondaryButton-efbe443f.js";import"./Banner-2b5a5794.js";import"./BottomTab-9c18cf54.js";import"./Sidebar-8688ddd2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastList-cd5f7580.js";const L=e("div",{class:"flex justify-between p-2"},[e("p",{class:"px-2 text-xl font-semibold"},"Chats")],-1),N={class:"px-2 max-w-[40rem]"},$={class:"mt-2"},F={class:"grid grid-cols-2 border-b-[1px] border-gray-200"},S=e("p",{class:w(" font-bold w-full flex justify-center")},"My Enquiries",-1),A=e("p",{class:"flex justify-center w-full"},"My Sales",-1),D={class:"mt-2"},E={class:"mt-2 max-w-[40rem] flex flex-col gap-2"},M={class:"bg-white p-[1rem] flex justify-between items-center"},P={class:"text-xl font-bold"},T={key:0,class:"flex items-center justify-center w-6 h-6 text-sm text-white bg-blue-600 rounded-full"},z={class:"flex justify-center mt-2"},Z={__name:"Index",props:{confirmsTwoFactorAuthentication:Boolean,sessions:Array,chats:Object},setup(p){const o=m(p.chats),c=m(null);console.log(o);const _=(t=1)=>{axios.get(route("sale.chats.index",{page:t})).then(a=>{o.value=a.data})};b(c,async(t,a)=>{t.value!==""?axios.get(route("enquiry.chats.index",{search:t})).then(s=>{o.value=s.data}):window.location.reload()});const h=(t,a)=>{o.value.data.splice(a,1),axios.delete(route("enquiry.chats.delete",{id:t.id}))};return(t,a)=>(n(),y(j,{title:"Chats"},{default:r(()=>[L,e("div",N,[e("div",$,[e("div",F,[l(i(d),{href:t.route("enquiry.chats.index"),class:"border-b-[1px] pb-2 border-black transition-all duration-500 cursor-pointer"},{default:r(()=>[S]),_:1},8,["href"]),l(i(d),{href:t.route("sale.chats.index")},{default:r(()=>[A]),_:1},8,["href"])]),e("div",D,[l(V,{type:"text",class:"w-full p-2 bg-gray-200",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),placeholder:"Search"},null,8,["modelValue"])]),e("div",E,[(n(!0),u(v,null,g(o.value.data,(s,x)=>(n(),u("div",M,[l(i(d),{href:t.route("enquiry.chats.show",{chat:s})},{default:r(()=>[e("div",null,[e("p",P,f(s.product_name),1),e("p",null,f(s.cas_no),1)]),s.unread_count!=0?(n(),u("p",T,f(s.unread_count),1)):C("",!0)]),_:2},1032,["href"]),l(B,{type:"button",class:"text-white bg-red-600",onClick:O=>h(s,x)},{default:r(()=>[k("Delete")]),_:2},1032,["onClick"])]))),256)),e("div",z,[l(i(q),{data:o.value,onPaginationChangePage:_},null,8,["data"])])])])])]),_:1}))}};export{Z as default};
